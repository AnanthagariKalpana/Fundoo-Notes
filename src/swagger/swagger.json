{
    "openapi":"3.0.0",
    "info":{
        "title": "FundooNote API",
      "version": "1.0.0",
      "description": "API documentation for your Node.js application" 
    },
    "host":"localhost:3000",
    "basepath":"/api/v1",
    "schemes":["http"],
    "consumes":["application/json"],
    "produces":["application/json"],
    "securityDefinition":{
        "BearerAuth":{
            "type":"apikey",
            "name":"Authorization",
            "in":"header",
            "description":"Enter Bearer Token"
        }
    },
    "components":{
        "schemas":{
            "users":{
                "type":"object",
                "required":["name","email","password"],
                "properties":{
                    "name":{
                        "type":"String"
                    },
                    "email":{
                        "type":"String"
                    },
                    "password":{
                        "type":"String"
                    }
                }
            },
            "Note":{
                "type":"object",
                "required":["title","description"],
                "properties":{
                    "title":{
                        "type":"String"
                    },
                    "description":{
                        "type":"String"
                    },
                    "colour":{
                        "type":"String"
                    }
                }
            },
            "ErrorResponse":{
                "type":"object",
                "properties":{
                    "error":{
                        "type":"String"
                    }
                }
            }
        },
        "securitySchemes":{
            "BearerAuth":{
                "type":"http",
                "scheme":"bearer",
                "bearerFormat":"JWT"
            }
        }
    },
    "paths":{
        "api/v1/users":{
            "post":{
                "summary":"Register new user",
                "tags":["Authentication"],
                "requestBody":{
                    "content":{
                        "application/json":{
                            "schema":{
                                "$ref":"#/components/schemas/user"
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description":"user registered Successfully",
                        "content":{
                            "application/json":{
                                "example":{
                                    "userName":"testuser"
                                }
                            }
                        }
                    },
                    "500":{
                        "description":"Internal Server Error",
                        "content":{
                            "application/json":{
                                "example":{
                                    "error":"Internal server error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/users/login":{
            "post":{
                "summary":"Login and getauthentication Key",
                "tags":["Authentication"],
                "requestBody":{
                    "content":{
                        "application/json":{
                            "schema":{
                                "$ref":"#/components/schemas/user"
                            }
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description":"User Logged in Successfully",
                        "content":{
                            "application/json":{
                                "example":{
                                    "token":"your-auth-token"
                                }
                            }
                        }
                    },
                    "401":{
                        "description":"Invalid userName or password",
                        "content":{
                            "application/json":{
                                "example":{
                                    "error":"Invalid credentials"
                                }
                            }
                        }
                    },
                    "500":{
                        "description":"Internal Server Error",
                        "content":{
                            "application/json":{
                                "example":{
                                    "error":"Internal server error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/users/forgotpassword":{
            "put":{
                "summary":"get authentication key",
                "tags":["Authentication"],
                "requestBody": {
                    "content": {
                      "application/json": {
                        "schema": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
            },
            "responses": {
                "200": {
                  "description": "Reset token sent to user email",
                  "content": {
                    "application/json": {
                      "example": {
                        "token": "your-auth-token"
                      }
                    }
                  }
                },
                "401": {
                    "description": "User Not Found",
                    "content": {
                      "application/json": {
                        "example": {
                          "error": "Invalid credentials"
                        }
                      }
                    }
                  },
                  "500": {
                    "description": "Internal Server Error",
                    "content": {
                      "application/json": {
                        "example": {
                          "error": "Internal Server Error"
                        }
                      }
                    }
                  }  
                }
            }
        },
        "/api/v1/user/resetpassword": {
            "put": {
              "summary": "Pass the new Password and token",
              "tags": ["Authentication"],
              "security": [
                {
                  "BearerAuth": []
                }
              ],
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Reset token sent to user email",
                  "content": {
                    "application/json": {
                      "example": {
                        "token": "your-auth-token"
                      }
                    }
                  }
                },
                "401": {
                  "description": "User Not Found",
                  "content": {
                    "application/json": {
                      "example": {
                        "error": "Invalid credentials"
                      }
                    }
                  }
                },
                "500": {
                  "description": "Internal Server Error",
                  "content": {
                    "application/json": {
                      "example": {
                        "error": "Internal Server Error"
                      }
                    }
                  }
                }
              }
            }
          },
          "/api/v1/note": {
            "post": {
              "summary": "Create a new note",
              "tags": ["Note"],
              "security": [
                {
                  "BearerAuth": []
                }
              ],
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "$ref": "#/components/schemas/Note"
                    }
                  }
                }
              },
              "responses": {
                "201": {
                  "description": "Note created successfully",
                  "content": {
                    "application/json": {
                      "example": {
                        "title": "Test Note"
                      }
                    }
                  }
                },
                "500": {
                  "description": "Internal Server Error",
                  "content": {
                    "application/json": {
                      "example": {
                        "error": "Internal Server Error"
                      }
                    }
                  }
                }
              }
            },
            "get": {
                "summary": "Get all notes",
                "tags": ["Note"],
                "security": [
                  {
                    "BearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Notes retrieved successfully",
                    "content": {
                      "application/json": {
                        "example": [
                          {
                            "title": "Test Note 1"
                          },
                          {
                            "title": "Test Note 2"
                          }
                        ]
                      }
                    }
                  },
                  "500": {
                    "description": "Internal Server Error",
                    "content": {
                      "application/json": {
                        "example": {
                          "error": "Internal Server Error"
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/v1/note/{noteId}": {
                "get": {
                  "summary": "Get a note by ID",
                  "tags": ["Note"],
                  "security": [
                    {
                      "BearerAuth": []
                    }
                  ],
                  "parameters": [
                    {
                      "name": "noteId",
                      "in": "path",
                      "required": true,
                      "schema": {
                        "type": "string"
                      }
                    }
                  ],
                  "responses": {
                    "200": {
                      "description": "Note retrieved successfully",
                      "content": {
                        "application/json": {
                          "example": {
                            "title": "Test Note"
                          }
                        }
                      }
                    },
                    "500": {
                      "description": "Internal Server Error",
                      "content": {
                        "application/json": {
                          "example": {
                            "error": "Internal Server Error"
                          }
                        }
                      }
                    }
                  }
                },
                "put": {
                    "summary": "Update an existing note",
                    "tags": ["Note"],
                    "security": [
                      {
                        "BearerAuth": []
                      }
                    ],
                    "parameters": [
                      {
                        "name": "noteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                          "type": "string"
                        }
                      }
                    ],
                    "requestBody": {
                      "content": {
                        "application/json": {
                          "schema": {
                            "$ref": "#/components/schemas/Note"
                          }
                        }
                      }
                    },
                    "responses": {
                      "200": {
                        "description": "Note updated successfully",
                        "content": {
                          "application/json": {
                            "example": {
                              "title": "Updated Note"
                            }
                          }
                        }
                      },
                      "500": {
                        "description": "Internal Server Error",
                        "content": {
                          "application/json": {
                              "example": {
                                  "error": "Internal Server Error"
                                }
                              }
                            }
                          }
                        }
                      },
                      "delete": {
                        "summary": "Delete a note by ID",
                        "tags": ["Note"],
                        "security": [
                          {
                            "BearerAuth": []
                          }
                        ],
                        "parameters": [
                          {
                            "name": "noteId",
                            "in": "path",
                            "required": true,
                            "schema": {
                              "type": "string"
                            }
                          }
                        ],
                        "responses": {
                          "204": {
                            "description": "Note deleted successfully"
                          },
                          "404": {
                            "description": "Note not found",
                            "content": {
                              "application/json": {
                                "example": {
                                  "error": "Note not found"
                                }
                              }
                            }
                          },
                          "500": {
                            "description": "Internal Server Error",
                            "content": {
                              "application/json": {
                                "example": {
                                  "error": "Internal Server Error"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "/api/v1/note/{noteId}/archive": {
                        "put": {
                          "summary": "Archive a note by ID",
                          "tags": ["Note"],
                          "security": [
                            {
                              "BearerAuth": []
                            }
                          ],
                          "parameters": [
                            {
                              "name": "noteId",
                              "in": "path",
                              "required": true,
                              "schema": {
                                "type": "string"
                              }
                            }
                          ],
                          "responses": {
                            "200": {
                              "description": "Note archived successfully",
                              "content": {
                                "application/json": {
                                  "example": {
                                    "title": "Archived Note"
                                  }
                                }
                              }
                            },
                            "404": {
                              "description": "Note not found",
                              "content": {
                                "application/json": {
                                  "example": {
                                    "error": "Note not found"
                                  }
                                }
                              }
                            },
                            "500": {
                              "description": "Internal Server Error",
                              "content": {
                                "application/json": {
                                  "example": {
                                    "error": "Internal Server Error"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "/api/v1/note/{noteId}/trash": {
                        "put": {
                          "summary": "Move a note to trash by ID",
                          "tags": ["Note"],
                          "security": [
                            {
                              "BearerAuth": []
                            }
                          ],
                          "parameters": [
                            {
                              "name": "noteId",
                              "in": "path",
                              "required": true,
                              "schema": {
                                "type": "string"
                              }
                            }
                          ],
                          "responses": {
                            "200": {
                              "description": "Note moved to trash successfully",
                              "content": {
                                "application/json": {
                                  "example": {
                                    "title": "Trashed Note"
                                  }
                                }
                              }
                            },
                            "404": {
                              "description": "Note not found",
                              "content": {
                                "application/json": {
                                  "example": {
                                    "error": "Note not found"
                                  }
                                }
                              }
                            },
                            "500": {
                              "description": "Internal Server Error",
                              "content": {
                                "application/json": {
                                  "example": {
                                    "error": "Internal Server Error"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                }